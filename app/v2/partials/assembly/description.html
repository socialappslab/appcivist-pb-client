<style>
  .form-horizontal .control-label {
    text-align: left;
  }
</style>
<section class="comments__section">
  <div class="row">
    <form name="newAssemblyForm1">
      <div class="col-lg-12 col-md-12 col-xs-12">
        <div id="description" class="box descriptionBox">
          <p>{{'definition.assembly' | translate}}</p>
        </div>
        <div>
          <div class="col-md-3">
          </div>
          <div class="col-md-3">
          </div>
        </div>
        <div class="row vertical-space-medium"></div>
        <div id="assemblyName" class="form-horizontal">
          <div class="col-md-12 form-group" ng-class="{ 'has-error': newAssemblyForm1.name.$touched && newAssemblyForm1.name.$invalid }">
            <label for="inputNameAssembly" class="control-label">{{'Name'|translate }}*</label>
            <input id="inputNameAssembly" name="name" type="text" class="form-control" placeholder="{{'e.g., Assemblie Belleville'|translate}}"
              ng-model="newAssembly.name" ng-required="true">
          </div>
        </div>
        <div class="col-md-12 voffset3"></div>
        <div ng-if="newAssembly.principalAssembly" id="assemblyShortName" class="form-horizontal">
          <div class="col-md-12 form-group" ng-class="{ 'has-error': newAssemblyForm1.shortname.$touched && newAssemblyForm1.shortname.$invalid && invalidShortname }">
            <label for="inputShortNameAssembly" class="control-label">{{'Shortname'|translate }}*</label>
            <input id="inputShortNameAssembly" name="shortname" type="text" class="form-control" placeholder="{{'e.g., ass-belleville'|translate}}"
              ng-model="newAssembly.shortname" ng-required="true" ng-blur="shortnameChanged(newAssembly.shortname)"
              ng-disabled="isEdit">
            <p ng-if="invalidShortname" ng-class "has-error" style="color: #a94442;">{{ 'Shortname already exists' | translate }}</p>
          </div>
        </div>
        <div ng-if="newAssembly.principalAssembly" class="col-md-12 voffset3"></div>
        <div id="assemblyDescription" class="form-horizontal">
          <div class="col-md-12 form-group" ng-class="{ 'has-error': newAssemblyForm1.description.$touched && newAssemblyForm1.description.$invalid }">
            <label for="inputAboutAssembly" class="control-label">{{'assembly.newAssemblystep1.text1'|translate}}*</label>
            <textarea id="inputAboutAssembly" name="description" class="form-control" placeholder="{{'e.g., This assembly organizes citizens of Belleville, to come up with interesting and feasible proposals to be voted on and later implemented during the PB process of 2015' | translate }}"
              ng-model="newAssembly.description" ng-required="true"></textarea>
          </div>
        </div>
        <div class="col-md-12 voffset3"></div>
        <div id="assemblyLocation" class="form-horizontal">
          <div class="col-md-12 form-group">
            <label for="inputLocationAssembly" class="control-label">
            {{'assembly.newAssemblystep1.text2'|translate}}
            <i class="fa fa-question-circle" tooltip-placement="right" uib-tooltip="{{info.locationTooltip}}"></i>
            </label>
            <input class="form-control" id="inputLocationAssembly" type="text" placeholder="{{'The name of a Place, an Address, City or Country associated to your assembly' | translate}}"
              ng-model="newAssembly.location.placeName">
          </div>
        </div>
        <div class="col-md-12 voffset3"></div>
        <div id="assemblyTargetAudience" class="form-horizontal">
          <div class="col-md-12 form-group">
            <label class="control-label">
            {{'assembly.newAssemblystep1.text3'|translate}}
            <i class="fa fa-question-circle" tooltip-placement="right" uib-tooltip="{{info.targetAudienceTooltip}}"></i>
            </label>
            <div class="voffset3"></div>
            <div class="col-md-4">
              <div class="radio">
                <label>
                <input name="targetAudience" type="radio" ng-model="newAssembly.profile.targetAudience" value="RESIDENTS" checked="checked"> {{'Residents'|translate}}
                </label>
              </div>
              <div class="radio">
                <label>
                <input name="targetAudience" type="radio" ng-model="newAssembly.profile.targetAudience" value="ANYONE"> {{'Anyone'|translate}}
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12 voffset3"></div>
        <div id="assemblyMembership" class="form-horizontal">
          <div class="col-md-12 form-group">
            <label class="control-label">{{'How do people become members?' | translate}}</label>
            <div class="voffset3"></div>
            <div class="col-md-4">
              <div class="radio">
                <label>
                <input type="radio" name="membership" id="openRadio" value="OPEN" ng-model="newAssembly.profile.membership">
                {{'Opened'|translate}}
                </label>
              </div>
              <div class="radio">
                <label>
                <input type="radio" name="membership" id="registrationRadio" value="REGISTRATION" ng-model="newAssembly.profile.membership">
                {{'Registration' | translate}}
                </label>
              </div>
            </div>
            <div class="col-md-8" ng-show="newAssembly.profile.membership === 'REGISTRATION'">
              <label class="optionsBox-title">{{'Membership by registration' | translate}}</label>
              <i class="fa fa-question-circle" tooltip-placement="right" uib-tooltip="{{info.supportedMembershipRegistrationTooltip}}"></i>
              <div class="checkbox">
                <label>
                  <input type="checkbox" ng-model="newAssembly.profile.registration.invitation"/>
                  <p style="display: inline;">{{'By invitation' | translate}}, {{'and/or' | translate}}</p>
                </label>
              </div>
              <div class="checkbox">
                <label>
                  <input type="checkbox" ng-model="newAssembly.profile.registration.request" checked/>
                  <p style="display: inline;">{{'By request' | translate}}</p>
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12 voffset3"></div>
        <div id="assemblyManagement" class="form-horizontal">
          <div class="col-md-12 form-group">
            <label for="inputManagementType" class="control-label">
            {{'Who will be able to change settings and remove inappropriate comments?'|translate}}
            </label>
            <div class="col-md-12 voffset3"></div>
            <div class="col-md-12 grayBox" id="inputManagementType">
              <div class="checkbox">
                <label>
                <input type="checkbox" ng-model="newAssembly.profile.moderators"/>
                <strong>{{'Enable moderation' | translate}}</strong>
                </label>
              </div>
              <div class="checkbox">
                <label>
                <input type="checkbox" ng-model="newAssembly.profile.coordinators"/>
                <strong>{{'Enable coordination' | translate}}</strong>
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12 voffset3"></div>

        <!-- assembly icon configuration section -->
        <div id="assemblyIcon" class="form-horizontal">
          <div class="col-md-12 form-group">
            <label class="control-label" translate='assembly.select.icon'> </label>
            <br/>
            <div class="picsList">
              <div ng-repeat="icon in defaultIcons">
                <div class="col-md-4">
                  <div class="image-capsule">
                    <img alt="{{icon.name}}" ng-src="{{icon.url}}" class="image-circle" ng-class="{'image-circle-selected-shadow': icon.name === f.name}"
                      ng-click="setNewAssemblyIcon(icon.url, icon.name)">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-12 voffset3"></div>
        <div id="assemblyIconProgress" class="form-horizontal">
          <div class="col-lg-4 add-button">
            <span>
              <button class="btn" type="button" ngf-select="uploadFiles($file, $invalidFiles, 'icon')" accept="image/*" ngf-max-size="2MB">
                {{ 'Upload' |  translate}}
              </button>
            </span>
            <span>
              <strong>{{ 'selected.icon' | translate }}: </strong>
            </span>
            <span>
              <div class="image-capsule">
                <img alt="{{f.name}}" ng-src="{{f.url}}" class="image-circle image-circle-selected">
              </div>
            </span>
          </div>
        </div>
        <!-- assembly icon -->

        <!-- assembly cover icon configuration section -->
        <div id="assemblyIcon" class="form-horizontal">
          <div class="col-md-12 form-group">
            <label class="control-label">{{'Pick a logo or upload an image to represent your Assembly cover picture (or upload a picture < 2Mb)' | translate}}</label>
            <br/>
            <div class="picsList">
              <div ng-repeat="icon in defaultCoverIcons">
                <div class="col-md-4">
                  <div class="image-capsule">
                    <img alt="{{icon.name}}" ng-src="{{icon.url}}" class="image-circle" ng-class="{'image-circle-selected-shadow': icon.name === selectedCover.name}"
                      ng-click="setNewAssemblyCoverIcon(icon.url, icon.name)">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-12 voffset3"></div>
        <div id="assemblyIconProgress" class="form-horizontal">
          <div class="col-lg-4 add-button">
            <span>
              <button class="btn" type="button" ngf-select="uploadFiles($file, $invalidFiles, 'cover')" accept="image/*" ngf-max-size="2MB">
                {{ 'Upload' |  translate}}
              </button>
            </span>
            <span>
              <strong>{{ 'selected.icon' | translate }}: </strong>
            </span>
            <span>
              <div class="image-capsule">
                <img alt="{{selectedCover.name}}" ng-src="{{selectedCover.url}}" class="image-circle image-circle-selected">
              </div>
            </span>
          </div>
        </div>
        <!-- assembly cover icon -->

        <div class="col-md-12 voffset3"></div>
        <div id="assemblyContactInfo" class="form-horizontal">
          <div class="col-md-12 form-group">
            <label for="inputContactNameAssembly" class="control-label">{{'Primary contact' | translate}}</label>
            <div>
              <input type="text" class="form-control col-md-4" id="inputContactNameAssembly" placeholder="{{'Name' | translate}}"
                ng-model="newAssembly.profile.primaryContactName">
              <input type="text" class="form-control col-md-4" id="inputContactPhoneAssembly" placeholder="{{'Phone' | translate}}"
                ng-model="newAssembly.profile.primaryContactPhone">
              <input type="text" class="form-control col-md-4" id="inputContactEmailAssembly" placeholder="{{'Email' | translate}}"
                ng-model="newAssembly.profile.primaryContactEmail">
            </div>
          </div>
        </div>
        <div class="col-md-12 voffset3"></div>
        <div id="assemblyThemes" class="form-horizontal">
          <div class="col-md-12 form-group">
            <label for="inputTheme" class="control-label">{{'assembly.newAssemblystep1.text4' | translate}}*</label>
            <input class="form-control" id="inputTheme" type="text" placeholder="{{'e.g, Housing' | translate}}"
              ng-model="themes.list" />
            <div class="col-md-4 col-sm-4 add-button">
              <span><a ng-click="addTheme(themes.list)">
              <img data-src="holder.js/100x100" alt="Add Theme" src="../assets/images/addIcon.png"
                style="cursor: pointer; height: 25px; width:25px;"
                data-holder-rendered="true" class="image-circle">
              </a></span>
              <span>
                <h5 width="50px;">{{'Add to list' | translate}}</h5>
              </span>
            </div>
            <div class="col-sm-12 col-md-12 form-group">
              <label class="control-label">{{'Added Themes' | translate}}</label>
              <div class="caption assembly-tags-container-content">
                <ul class="tags" ng-repeat="t in newAssembly.themes track by $index">
                  <li class="tag tag-filter">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true" ng-click="removeTheme($index)"></span>                    {{t.title}}
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12 voffset3"></div>
        <div id="assemblyInvitations" class="form-horizontal">
          <div class="col-md-12 form-group">
            <label class="control-label">
            {{'Invite people to join' | translate}}
            <i class="fa fa-question-circle" tooltip-placement="right" uib-tooltip="{{info.invitationsTooltip}}"></i>
            </label>
            <textarea class="form-control" id="invitees" rows="4" ng-model="inviteesEmails.list"></textarea>
            <div class="col-md-4 col-sm-4 add-button">
              <span><a ng-click="addEmailsToList(inviteesEmails.list)">
              <img data-src="holder.js/100x100" alt="100x100" src="../assets/images/addIcon.png"
                style="cursor: pointer; height: 25px; width:25px;" data-holder-rendered="true" class="image-circle">
              </a></span>
              <span>
                <h5>{{'Add to list' | translate}}</h5>
              </span>
            </div>
            <div class="col-md-12 voffset3"></div>
            <table class="table table-hover">
              <thead>
                <tr>
                  <th class="remove-column"></th>
                  <th class="email-column">{{'Email' | translate}}</th>
                  <th ng-if="newAssembly.profile.coordinators==='two'" class="coordinator-column">{{'Coordinator' | translate}}</th>
                  <th ng-if="newAssembly.profile.moderators==='two'" class="moderator-column">{{'Moderator' | translate}}</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="invitee in newAssembly.invitations track by $index">
                  <td class="remove-column">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true" ng-click="removeInvitee($index)"></span>
                  </td>
                  <td class="email-column">{{invitee.email}}</td>
                  <td ng-if="newAssembly.profile.coordinators==='two'" class="coordinator-column">
                    <div class="checkbox">
                      <label>
                      <input type="checkbox" ng-model="invitee.coordinator"/>
                      </label>
                    </div>
                  </td>
                  <td ng-if="newAssembly.profile.moderators==='two'" class="moderator-column">
                    <div class="checkbox">
                      <label>
                      <input type="checkbox" ng-model="invitee.moderator"/>
                      </label>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
            <uib-alert ng-repeat="email in invalidEmails track by $index" type="danger" close="removeInvalidEmail($index)">{{'Invalid email(s)' | translate}}: {{email}} </uib-alert>
          </div>
        </div>
        <div class="col-md-12 voffset3"></div>

        <!-- invitation email editor -->
        <div id="assemblyInvitationsEmails" class="form-horizontal">
          <div class="col-md-12">
            <label class="control-label" style="margin-bottom: 10px;">
              {{'Invitation Email' | translate}}
              <i class="fa fa-question-circle" tooltip-placement="right" uib-tooltip="{{'help.tooltip.invitationsEmail'|translate}}"></i>
            </label>
            <!--<textarea class="form-control" id="invitationEmail" ng-model="newAssembly.invitationEmail" rows="6" placeholder="{{ 'assembly.invitation.email.text' | translate}}"></textarea>-->
            <textarea class="form-control" id="invitationEmail" ui-tinymce="editorOptions" ng-model="newAssembly.invitationEmail"
              placeholder="{{ 'assembly.invitation.email.text' | translate}}"></textarea>
          </div>
        </div>
        <!-- end invitation email editor -->

        <div class="col-md-12 voffset3"></div>
        <div id="assemblyConfigs" class="form-horizontal">
          <div id="assemblyConfigs" class="col-md-12 form-group">
            <div class="checkbox">
              <label>
              <input type="checkbox" ng-model="newAssembly.listed"/>
              <strong>
              <span>{{ 'Do you want your Assembly to be listed?' | translate }}</span>
              <i class="fa fa-question-circle" tooltip-placement="right" uib-tooltip="{{'help.tooltip.listedAssembly' | translate}}"></i>
              </strong>
              </label>
            </div>
          </div>
        </div>
        <div class="col-md-12 voffset3"></div>
      </div>
    </form>
  </div>
  <div id="campaignButtons1" class="">
    <div class="col-md-6">
      <button class="btn btn-primary col-md-12" ng-disabled="!newAssemblyForm1.$valid" ng-click="goToStep(2)">
      {{ "Next" | translate }}
      </button>
    </div>
  </div>
</section>